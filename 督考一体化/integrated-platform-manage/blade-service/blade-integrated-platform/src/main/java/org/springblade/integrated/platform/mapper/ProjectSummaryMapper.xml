<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.springblade.integrated.platform.mapper.ProjectSummaryMapper">

<!--    筛选excel-->
    <select id="exportProjectSummary" parameterType="org.springblade.integrated.platform.excel.ProjectSummaryExcel1" resultType="org.springblade.integrated.platform.excel.ProjectSummaryExcel1" >
        SELECT title,proj_content,total_investment,year_economic,proj_nature,xm_address,sjbzld_name,jhtz01,wctz01,jhtz02,wctz02,jhtz03,wctz03,jhtz04,wctz04,jhtz05,wctz05,jhtz06,wctz06,jhtz07,wctz07,jhtz08,wctz08,jhtz09,wctz09,jhtz10,wctz10,jhtz11,wctz11,jhtz12,wctz12,wcqk,porj_status,
        case when xm_type='1' then '交通'
        when xm_type='2' then '农业农村'
        when xm_type='3' then '水利'
        when xm_type='4' then '能源'
        when xm_type='5' then '社会民生'
        when xm_type='6' then '文化旅游'
        when xm_type='7' then '生态环保'
        when xm_type='8' then '新基建'
        when xm_type='9' then '城镇化及保障性安居工程'
        when xm_type='10' then '工业制造业'
        when xm_type='11' then '经贸物流'
        when xm_type='12' then '房地产开发'
        end as xm_type,
        case when sfnrtj='1' then '是'
        when sfnrtj='2' then '否'
        end as sfnrtj,
        case when proj_nature='1' then '续建'
        when proj_nature='2' then '计划新开工'
        when proj_nature='3' then '预备项目'
        when proj_nature='4' then '前期项目'

        end as proj_nature,
        case when proj_label='1' then '市列'
        when proj_label='2' then '省列'
        when proj_label='3' then '亿元以上'
        when proj_label='4' then '亿元以下'
        end as proj_label,
        case when report_status='1' then '未调度'
        when report_status='2' then '已调度'
        when report_status='3' then '县级待审核'
        when report_status='4' then '县级退回'
        when report_status='5' then '市级待审核'
        when report_status='6' then '市级退回'
        end as report_status,
        case when xm_address='1' then '市本级'
        when xm_address='2' then '甘州区'
        when xm_address='3' then '临泽县'
        when xm_address='4' then '高台县'
        when xm_address='5' then '山丹县'
        when xm_address='6' then '民乐县'
        when xm_address='7' then '肃南县'
        when xm_address='8' then '经开区'
        end as xm_address,
        case when proj_main='1' then '政府投资'
        when proj_main='2' then '民间投资'
        end as proj_main,
        case when xmnf='1' then '2022'
        end as xmnf,
        case when sfkfg='1' then '是'
        when sfkfg='2' then '否'
        end as sfkfg,
        case when porj_status='1' then '未纳入'
        when porj_status='2' then '已纳入'
        when porj_status='3' then '县级待审核'
        when porj_status='4' then '县级退回'
        when porj_status='5' then '市级待审核'
        when porj_status='6' then '市级退回'
        end as porj_status


        FROM project_summary WHERE is_deleted=0

        <if test="title !=null and title!='' ">
            AND title  like CONCAT('%',#{title},'%')
        </if>

        <if test="xmType !=null and xmType!='' ">
            AND xm_type =#{xmType}
        </if>

        <if test="xqhyzgbmName !=null and xqhyzgbmName!='' ">
            AND xqhyzgbm_name like CONCAT('%',#{xqhyzgbmName},'%')
        </if>

        <if test="sfnrtj !=null and sfnrtj!='' ">
            AND sfnrtj =#{sfnrtj}
        </if>

        <if test="projNature !=null and projNature!='' ">
            AND proj_nature =#{projNature}
        </if>

        <if test="projLabel !=null and projLabel!='' ">
            AND proj_label =#{projLabel}
        </if>

        <if test="bzzrdwName !=null and bzzrdwName!='' ">
            AND bzzrdw_name like CONCAT('%',#{bzzrdwName},'%')
        </if>

        <if test="reportStatus !=null and reportStatus!='' ">
            AND report_status =#{reportStatus}
        </if>

        <if test="xmAddress !=null and xmAddress!='' ">
            AND xm_address =#{xmAddress}
        </if>

        <if test="xjldName !=null and xjldName!='' ">
            AND xjld_name like CONCAT('%',#{xjldName},'%')
        </if>

        <if test="projMain !=null and projMain!='' ">
            AND proj_main =#{projMain}
        </if>

        <if test="xmnf !=null and xmnf!='' ">
            AND xmnf =#{xmnf}
        </if>

        <if test="sjbzldName !=null and sjbzldName!='' ">
            AND sjbzld_name like CONCAT('%',#{sjbzldName},'%')
        </if>

        <if test="szhyzgbmName !=null and szhyzgbmName!='' ">
            AND szhyzgbmName like CONCAT('%',#{szhyzgbmName},'%')
        </if>



        <if test="sfkfg !=null and sfkfg!='' ">
            AND sfkfg =#{sfkfg}
        </if>

        <if test="porjStatus !=null and porjStatus!='' ">
            AND porj_status =#{porjStatus}
        </if>

    </select>
    <!--<select id="queryProjectMap" parameterType="java.util.Map" resultType="com.vingsoft.vo.MapPorjectVO" >
        SELECT id,title,sgdw_name as sgdw,proj_nature as xmType,xm_address as xmAddress,dd_address as ddAddress FROM project_summary WHERE
        is_deleted=0
        <if test="entity.cylx!=null and entity.cylx!='' ">
            AND cy_type =#{entity.cylx}
        </if>
        <if test="entity.xmAddress!=null and entity.xmAddress!='' ">
            and (area_code like CONCAT('',#{entity.xmAddress},',%') or area_code like CONCAT('%,',#{entity.xmAddress},'') or area_code like CONCAT('%,',#{entity.xmAddress},',%') or area_code =#{entity.xmAddress})
        </if>
        <if test="entity.title!=null and entity.title!='' ">
            AND title like CONCAT('%',#{entity.title},'%')xiugai
        </if>
        <if test="entity.important !=null and entity.important !=''">
            and (proj_label like '%1%' or proj_label like '%2%')
        </if>
        <if test="entity.isTop ==null or entity.isTop ==''">
            and (1!=1
            <if test="entity.createUser !=null and entity.createUser !=''">
                or create_user like CONCAT('%',#{entity.createUser},'%')
            </if>
            <if test="entity.dwmc !=null and entity.dwmc !=''">
                or dwmc =#{entity.dwmc}
            </if>
            <if test="entity.areaCode != null and entity.areaCode.size()&gt; 0">
                <foreach collection="entity.areaCode" open="" close="" separator=","
                         item="themeId">
                    or area_code like CONCAT('%',#{themeId},'%')
                </foreach>
            </if>
            <if test="entity.createDept !=null and entity.createDept !=''">
                or create_dept =#{entity.createDept}
            </if>
            <if test="entity.zrr !=null and entity.zrr !=''">
                or zrr =#{entity.zrr}
            </if>
            )
        </if>
    </select>
    <select id="queryProjectMapNoPage" parameterType="java.util.Map" resultType="com.vingsoft.vo.MapPorjectVO" >
        SELECT id,title,sgdw_name as sgdw,proj_nature as xmType,xm_address as xmAddress,dd_address as ddAddress FROM project_summary WHERE
        is_deleted=0 and dd_address !='' and dd_address is not null
        <if test="entity.cylx!=null and entity.cylx!='' ">
            AND cy_type =#{entity.cylx}
        </if>
        <if test="entity.xmAddress!=null and entity.xmAddress!='' ">
            and (area_code like CONCAT('',#{entity.xmAddress},',%') or area_code like CONCAT('%,',#{entity.xmAddress},'') or area_code like CONCAT('%,',#{entity.xmAddress},',%') or area_code =#{entity.xmAddress})
        </if>
        <if test="entity.title!=null and entity.title!='' ">
            AND title like CONCAT('%',#{entity.title},'%')
        </if>
    <if test="entity.isTop ==null or entity.isTop ==''">
        and (1!=1
        <if test="entity.createUser !=null and entity.createUser !=''">
            or create_user like CONCAT('%',#{entity.createUser},'%')
        </if>
        <if test="entity.dwmc !=null and entity.dwmc !=''">
            or dwmc =#{entity.dwmc}
        </if>
        <if test="entity.areaCode != null and entity.areaCode.size()&gt; 0">
            <foreach collection="entity.areaCode" open="" close="" separator=","
                     item="themeId">
                or area_code like CONCAT('%',#{themeId},'%')
            </foreach>
        </if>
        <if test="entity.createDept !=null and entity.createDept !=''">
            or create_dept =#{entity.createDept}
        </if>
        <if test="entity.zrr !=null and entity.zrr !=''">
            or zrr =#{entity.zrr}
        </if>
        )
    </if>
    </select>
    <select id="selectPage" resultType="com.vingsoft.entity.ProjectSummary">
        select id, porj_status, report_status, xm_type, xmdl , auto_state, qqcylx, title, proj_main, proj_content , xm_address, dd_address, total_investment, year_economic, month_economic , proj_code, proj_label, start_date_plan, complete_date, sgdw , sgdw_name, wctz01, wctz02, wctz03, wctz04 , wctz05, wctz06, wctz07, wctz08, wctz09 , wctz10, wctz11, wctz12, jhtz01, jhtz02 , jhtz03, jhtz04, jhtz05, jhtz06, jhtz07 , jhtz08, jhtz09, jhtz10, jhtz11, jhtz12 , sjld, sjld_name, xjld, xjld_name, szhyzgbm , szhyzgbm_name, szhyzgbm_zrr, szhyzgbm_zrr_name, xqhyzgbm, xqhyzgbm_name , xqhyzgbm_zrr, xqhyzgbm_zrr_name, dhhm, gddh, manager_contact , dwmc, dwmc_name, file, year_goal, qqgzjhwcsj , bzzgdw, bzzgdw_name, bzzgdw_zrr, bzzgdw_zrr_name, bzzrdw , bzzrdw_name, bzzrdw_zrr, bzzrdw_zrr_name, xmnf, sfkfg , sfnrtj, create_user, create_dept, create_time, update_user , update_time, status, zxmc, proj_scale, sgfzr , sgfzr_name, subordination, proj_nature, xdzjwh, xdzj_time , tzjhhj, zytzjh, sjtzjh, dftzjh, fxzq_time , fxzqje, sfrk, cy_type, wcqk, zrr , zrr_name, area_code, total_economic, sjbzld, sjbzld_name , is_deleted from project_summary
        where is_deleted = 0 and xmdl like CONCAT('%',#{entity.xmdl},'%')
        <if test="entity.title !=null and entity.title !=''">
            and title like CONCAT('%',#{entity.title},'%')
        </if>
        <if test="entity.xmnf_equal !=null and entity.xmnf_equal !=''">
            and xmnf =#{entity.xmnf_equal}
        </if>
        <if test="entity.xdzjTime !=null and entity.xdzjTime !=''">
            and xdzj_time like CONCAT('%',#{entity.xdzjTime},'%')
        </if>
        <if test="entity.areaCodeTrue !=null and entity.areaCodeTrue !=''">
            and (area_code like CONCAT('',#{entity.areaCodeTrue},',%') or area_code like CONCAT('%,',#{entity.areaCodeTrue},'') or area_code like CONCAT('%,',#{entity.areaCodeTrue},',%') or area_code =#{entity.areaCodeTrue})
        </if>
        <if test="entity.sjldName !=null and entity.sjldName !=''">
            and sjld_name like CONCAT('%',#{entity.sjldName},'%')
        </if>
        <if test="entity.xmType !=null and entity.xmType !=''">
            and xm_type like CONCAT('%',#{entity.xmType},'%')
        </if>
        <if test="entity.sfnrtj !=null and entity.sfnrtj !=''">
            and sfnrtj =#{entity.sfnrtj}
        </if>
        <if test="entity.sjbzldName !=null and entity.sjbzldName !=''">
            and sjbzld_name like CONCAT('%',#{entity.sjbzldName},'%')
        </if>
        <if test="entity.projMain !=null and entity.projMain !=''">
            and proj_main =#{entity.projMain}
        </if>
        <if test="entity.cyType !=null and entity.cyType !=''">
            and cy_type =#{entity.cyType}
        </if>
        <if test="entity.xjldName !=null and entity.xjldName !=''">
            and xjld_name like CONCAT('%',#{entity.xjldName},'%')
        </if>
        <if test="entity.sgfzrName !=null and entity.sgfzrName !=''">
            and sgfzr_name like CONCAT('%',#{entity.sgfzrName},'%')
        </if>
        <if test="entity.xqhyzgbmName !=null and entity.xqhyzgbmName !=''">
            and xqhyzgbm_name like CONCAT('%',#{entity.xqhyzgbmName},'%')
        </if>
        <if test="entity.szhyzgbmName !=null and entity.szhyzgbmName !=''">
            and szhyzgbm_name like CONCAT('%',#{entity.szhyzgbmName},'%')
        </if>
        <if test="entity.porjStatus !=null and entity.porjStatus !=''">
            and porj_status =#{entity.porjStatus}
        </if>
        <if test="entity.sfkfg !=null and entity.sfkfg !=''">
            and sfkfg =#{entity.sfkfg}
        </if>
        <if test="entity.projLabel !=null and entity.projLabel !=''">
            and proj_label =#{entity.projLabel}
        </if>
        <if test="entity.sgdwName !=null and entity.sgdwName !=''">
            and sgdw_name like CONCAT('%',#{entity.sgdwName},'%')
        </if>
        <if test="entity.zxmc !=null and entity.zxmc !=''">
            and zxmc =#{entity.zxmc}
        </if>
        <if test="entity.reportStatus !=null and entity.reportStatus !=''">
            and report_status =#{entity.reportStatus}
        </if>
      &lt;!&ndash;  <if test='entity.reportStatus == "1"'>
            and report_status not in ('1','7')
        </if>
        <if test="entity.reportStatus ==null and entity.reportStatus !='1'">
            and report_status in ('1','7')
        </if>&ndash;&gt;
        <if test="entity.isTop ==null or entity.isTop ==''">
            and (1!=1
            <if test="entity.createUser !=null and entity.createUser !=''">
                or create_user like CONCAT('%',#{entity.createUser},'%')
            </if>
           &lt;!&ndash; <if test="entity.dwmc !=null and entity.dwmc !=''">
                or dwmc =#{entity.dwmc}
            </if>&ndash;&gt;
            <if test="entity.dwmc != null and entity.dwmc.size()&gt; 0">
                or dwmc
                in
                <foreach collection="entity.dwmc" open="(" close=")" separator=","
                         item="themeId">
                    #{themeId}
                </foreach>
            </if>
           &lt;!&ndash; <if test="entity.areaCode !=null and entity.areaCode !=''">
                or area_code =#{entity.areaCode}
            </if>&ndash;&gt;
            <if test="entity.areaCode != null and entity.areaCode.size()&gt; 0">
                <foreach collection="entity.areaCode" open="" close="" separator=","
                         item="themeId">
                    or area_code like CONCAT('%',#{themeId},'%')
                </foreach>
            </if>
            <if test="entity.createDept !=null and entity.createDept !=''">
                or create_dept =#{entity.createDept}
            </if>
            )
        </if>
        order by create_time desc

    </select>-->

    <select id="queryProjectMap" parameterType="java.util.Map" resultType="com.vingsoft.vo.MapPorjectVO" >
        SELECT id,title,sgdw_name as sgdw,proj_nature as xmType,xm_address as xmAddress,dd_address as ddAddress FROM project_summary WHERE
        is_deleted=0
        <if test="entity.cylx!=null and entity.cylx!='' ">
            AND cy_type =#{entity.cylx}
        </if>
        <if test="entity.xmAddress!=null and entity.xmAddress!='' ">
            and (area_code like CONCAT('',#{entity.xmAddress},',%') or area_code like CONCAT('%,',#{entity.xmAddress},'') or area_code like CONCAT('%,',#{entity.xmAddress},',%') or area_code =#{entity.xmAddress})
        </if>
        <if test="entity.title!=null and entity.title!='' ">
            AND title like CONCAT('%',#{entity.title},'%')xiugai
        </if>
        <if test="entity.important !=null and entity.important !=''">
            and (proj_label like '%1%' or proj_label like '%2%')
        </if>
        <if test="entity.areaCodeSingle !=null and entity.areaCodeSingle !=''">
            and (area_code like CONCAT('',#{entity.areaCodeSingle},',%') or area_code like CONCAT('%,',#{entity.areaCodeSingle},'') or area_code like CONCAT('%,',#{entity.areaCodeSingle},',%') or area_code =#{entity.areaCodeSingle})
        </if>
        order by create_time desc
    </select>
    <select id="queryProjectMapNoPage" parameterType="java.util.Map" resultType="com.vingsoft.vo.MapPorjectVO" >
        SELECT id,title,sgdw_name as sgdw,proj_nature as xmType,xm_address as xmAddress,dd_address as ddAddress FROM project_summary WHERE
        is_deleted=0 and dd_address !='' and dd_address is not null
        <if test="entity.cylx!=null and entity.cylx!='' ">
            AND cy_type =#{entity.cylx}
        </if>
        <if test="entity.xmAddress!=null and entity.xmAddress!='' ">
            and (area_code like CONCAT('',#{entity.xmAddress},',%') or area_code like CONCAT('%,',#{entity.xmAddress},'') or area_code like CONCAT('%,',#{entity.xmAddress},',%') or area_code =#{entity.xmAddress})
        </if>
        <if test="entity.title!=null and entity.title!='' ">
            AND title like CONCAT('%',#{entity.title},'%')
        </if>
        <if test="entity.areaCodeSingle !=null and entity.areaCodeSingle !=''">
            and (area_code like CONCAT('',#{entity.areaCodeSingle},',%') or area_code like CONCAT('%,',#{entity.areaCodeSingle},'') or area_code like CONCAT('%,',#{entity.areaCodeSingle},',%') or area_code =#{entity.areaCodeSingle})
        </if>
        <if test="entity.year!=null and entity.year!='' ">
            AND xmnf = #{year}
        </if>
        order by create_time desc
    </select>
    <select id="selectPage" resultType="com.vingsoft.entity.ProjectSummary">
        select id, porj_status, report_status, xm_type, xmdl , auto_state, qqcylx, title, proj_main, proj_content , xm_address, dd_address, total_investment, year_economic, month_economic , proj_code, proj_label, start_date_plan, complete_date, sgdw , sgdw_name, wctz01, wctz02, wctz03, wctz04 , wctz05, wctz06, wctz07, wctz08, wctz09 , wctz10, wctz11, wctz12, jhtz01, jhtz02 , jhtz03, jhtz04, jhtz05, jhtz06, jhtz07 , jhtz08, jhtz09, jhtz10, jhtz11, jhtz12 , sjld, sjld_name, xjld, xjld_name, szhyzgbm , szhyzgbm_name, szhyzgbm_zrr, szhyzgbm_zrr_name, xqhyzgbm, xqhyzgbm_name , xqhyzgbm_zrr, xqhyzgbm_zrr_name, dhhm, gddh, manager_contact , dwmc, dwmc_name, file, year_goal, qqgzjhwcsj , bzzgdw, bzzgdw_name, bzzgdw_zrr, bzzgdw_zrr_name, bzzrdw , bzzrdw_name, bzzrdw_zrr, bzzrdw_zrr_name, xmnf, sfkfg , sfnrtj, create_user, create_dept, create_time, update_user , update_time, status, zxmc, proj_scale, sgfzr , sgfzr_name, subordination, proj_nature, xdzjwh, xdzj_time , tzjhhj, zytzjh, sjtzjh, dftzjh, fxzq_time , fxzqje, sfrk, cy_type, wcqk, zrr , zrr_name, area_code, total_economic, sjbzld, sjbzld_name , is_deleted , bg_file_name , bg_file_url from project_summary
        where is_deleted = 0 and xmdl like CONCAT('%',#{entity.xmdl},'%')
        <if test="entity.title !=null and entity.title !=''">
            and title like CONCAT('%',#{entity.title},'%')
        </if>
        <if test="entity.xmnf_equal !=null and entity.xmnf_equal !=''">
            and xmnf =#{entity.xmnf_equal}
        </if>
        <if test="entity.xdzjTime !=null and entity.xdzjTime !=''">
            and xdzj_time like CONCAT('%',#{entity.xdzjTime},'%')
        </if>
        <if test="entity.areaCodeTrue !=null and entity.areaCodeTrue !=''">
            and (area_code like CONCAT('',#{entity.areaCodeTrue},',%') or area_code like CONCAT('%,',#{entity.areaCodeTrue},'') or area_code like CONCAT('%,',#{entity.areaCodeTrue},',%') or area_code =#{entity.areaCodeTrue})
        </if>
        <if test="entity.sjldName !=null and entity.sjldName !=''">
            and sjld_name like CONCAT('%',#{entity.sjldName},'%')
        </if>
        <if test="entity.xmType !=null and entity.xmType !=''">
            and xm_type like CONCAT('%',#{entity.xmType},'%')
        </if>
        <if test="entity.sfnrtj !=null and entity.sfnrtj !=''">
            and sfnrtj =#{entity.sfnrtj}
        </if>
        <if test="entity.sjbzldName !=null and entity.sjbzldName !=''">
            and sjbzld_name like CONCAT('%',#{entity.sjbzldName},'%')
        </if>
        <if test="entity.projMain !=null and entity.projMain !=''">
            and proj_main =#{entity.projMain}
        </if>
        <if test="entity.cyType !=null and entity.cyType !=''">
            and cy_type =#{entity.cyType}
        </if>
        <if test="entity.qqcylx !=null and entity.qqcylx !=''">
            and qqcylx =#{entity.qqcylx}
        </if>
        <if test="entity.xjldName !=null and entity.xjldName !=''">
            and xjld_name like CONCAT('%',#{entity.xjldName},'%')
        </if>
        <if test="entity.sgfzrName !=null and entity.sgfzrName !=''">
            and sgfzr_name like CONCAT('%',#{entity.sgfzrName},'%')
        </if>
        <if test="entity.xqhyzgbmName !=null and entity.xqhyzgbmName !=''">
            and xqhyzgbm_name like CONCAT('%',#{entity.xqhyzgbmName},'%')
        </if>
        <if test="entity.szhyzgbmName !=null and entity.szhyzgbmName !=''">
            and szhyzgbm_name like CONCAT('%',#{entity.szhyzgbmName},'%')
        </if>
        <if test="entity.porjStatus !=null and entity.porjStatus !=''">
            and porj_status =#{entity.porjStatus}
        </if>
        <if test="entity.sfkfg !=null and entity.sfkfg !=''">
            and sfkfg =#{entity.sfkfg}
        </if>
        <if test="entity.projLabel !=null and entity.projLabel !=''">
            and proj_label like CONCAT('%',#{entity.projLabel},'%')
        </if>
        <if test="entity.sgdwName !=null and entity.sgdwName !=''">
            and sgdw_name like CONCAT('%',#{entity.sgdwName},'%')
        </if>
        <if test="entity.zxmc !=null and entity.zxmc !=''">
            and zxmc =#{entity.zxmc}
        </if>
        <if test="entity.reportStatus !=null and entity.reportStatus !=''">
            and report_status =#{entity.reportStatus}
        </if>
       <if test="entity.zgdwzrr !=null and entity.zgdwzrr !=''">
            and (szhyzgbm =#{entity.zgdwzrr} or xqhyzgbm =#{entity.zgdwzrr} )
        </if>
        <if test="entity.areaCodeSingle !=null and entity.areaCodeSingle !=''">
            and (area_code like CONCAT('',#{entity.areaCodeSingle},',%') or area_code like CONCAT('%,',#{entity.areaCodeSingle},'') or area_code like CONCAT('%,',#{entity.areaCodeSingle},',%') or area_code =#{entity.areaCodeSingle})
        </if>
        order by create_time desc

    </select>


    <select id="selectXMGLPage" resultType="com.vingsoft.entity.ProjectSummary">
        select id, porj_status, report_status, xm_type, xmdl , auto_state, qqcylx, title, proj_main, proj_content , xm_address, dd_address, total_investment, year_economic, month_economic , proj_code, proj_label, start_date_plan, complete_date, sgdw , sgdw_name, wctz01, wctz02, wctz03, wctz04 , wctz05, wctz06, wctz07, wctz08, wctz09 , wctz10, wctz11, wctz12, jhtz01, jhtz02 , jhtz03, jhtz04, jhtz05, jhtz06, jhtz07 , jhtz08, jhtz09, jhtz10, jhtz11, jhtz12 , sjld, sjld_name, xjld, xjld_name, szhyzgbm , szhyzgbm_name, szhyzgbm_zrr, szhyzgbm_zrr_name, xqhyzgbm, xqhyzgbm_name , xqhyzgbm_zrr, xqhyzgbm_zrr_name, dhhm, gddh, manager_contact , dwmc, dwmc_name, file, year_goal, qqgzjhwcsj , bzzgdw, bzzgdw_name, bzzgdw_zrr, bzzgdw_zrr_name, bzzrdw , bzzrdw_name, bzzrdw_zrr, bzzrdw_zrr_name, xmnf, sfkfg , sfnrtj, create_user, create_dept, create_time, update_user , update_time, status, zxmc, proj_scale, sgfzr , sgfzr_name, subordination, proj_nature, xdzjwh, xdzj_time , tzjhhj, zytzjh, sjtzjh, dftzjh, fxzq_time , fxzqje, sfrk, cy_type, wcqk, zrr , zrr_name, area_code, total_economic, sjbzld, sjbzld_name , is_deleted , bg_file_name , bg_file_url from project_summary
        where is_deleted = 0 and xmdl like CONCAT('%',#{entity.xmdl},'%')
          and id in
          <foreach collection= "entity.ids" open="(" index="index" item="id" separator="," close=")">
              #{id}
          </foreach>
        <if test="entity.title !=null and entity.title !=''">
            and title like CONCAT('%',#{entity.title},'%')
        </if>
        <if test="entity.xmnf_equal !=null and entity.xmnf_equal !=''">
            and xmnf =#{entity.xmnf_equal}
        </if>
        <if test="entity.xdzjTime !=null and entity.xdzjTime !=''">
            and xdzj_time like CONCAT('%',#{entity.xdzjTime},'%')
        </if>
        <if test="entity.areaCodeTrue !=null and entity.areaCodeTrue !=''">
            and (area_code like CONCAT('',#{entity.areaCodeTrue},',%') or area_code like CONCAT('%,',#{entity.areaCodeTrue},'') or area_code like CONCAT('%,',#{entity.areaCodeTrue},',%') or area_code =#{entity.areaCodeTrue})
        </if>
        <if test="entity.sjldName !=null and entity.sjldName !=''">
            and sjld_name like CONCAT('%',#{entity.sjldName},'%')
        </if>
        <if test="entity.xmType !=null and entity.xmType !=''">
            and xm_type like CONCAT('%',#{entity.xmType},'%')
        </if>
        <if test="entity.sfnrtj !=null and entity.sfnrtj !=''">
            and sfnrtj =#{entity.sfnrtj}
        </if>
        <if test="entity.sjbzldName !=null and entity.sjbzldName !=''">
            and sjbzld_name like CONCAT('%',#{entity.sjbzldName},'%')
        </if>
        <if test="entity.projMain !=null and entity.projMain !=''">
            and proj_main =#{entity.projMain}
        </if>
        <if test="entity.cyType !=null and entity.cyType !=''">
            and cy_type =#{entity.cyType}
        </if>
        <if test="entity.qqcylx !=null and entity.qqcylx !=''">
            and qqcylx =#{entity.qqcylx}
        </if>
        <if test="entity.xjldName !=null and entity.xjldName !=''">
            and xjld_name like CONCAT('%',#{entity.xjldName},'%')
        </if>
        <if test="entity.sgfzrName !=null and entity.sgfzrName !=''">
            and sgfzr_name like CONCAT('%',#{entity.sgfzrName},'%')
        </if>
        <if test="entity.xqhyzgbmName !=null and entity.xqhyzgbmName !=''">
            and xqhyzgbm_name like CONCAT('%',#{entity.xqhyzgbmName},'%')
        </if>
        <if test="entity.szhyzgbmName !=null and entity.szhyzgbmName !=''">
            and szhyzgbm_name like CONCAT('%',#{entity.szhyzgbmName},'%')
        </if>
        <if test="entity.porjStatus !=null and entity.porjStatus !=''">
            and porj_status =#{entity.porjStatus}
        </if>
        <if test="entity.sfkfg !=null and entity.sfkfg !=''">
            and sfkfg =#{entity.sfkfg}
        </if>
        <if test="entity.projLabel !=null and entity.projLabel !=''">
            and proj_label like CONCAT('%',#{entity.projLabel},'%')
        </if>
        <if test="entity.sgdwName !=null and entity.sgdwName !=''">
            and sgdw_name like CONCAT('%',#{entity.sgdwName},'%')
        </if>
        <if test="entity.zxmc !=null and entity.zxmc !=''">
            and zxmc =#{entity.zxmc}
        </if>
        <if test="entity.reportStatus !=null and entity.reportStatus !=''">
            and report_status =#{entity.reportStatus}
        </if>
        <if test="entity.zgdwzrr !=null and entity.zgdwzrr !=''">
            and (szhyzgbm =#{entity.zgdwzrr} or xqhyzgbm =#{entity.zgdwzrr} )
        </if>
        <if test="entity.areaCodeSingle !=null and entity.areaCodeSingle !=''">
            and (area_code like CONCAT('',#{entity.areaCodeSingle},',%') or area_code like CONCAT('%,',#{entity.areaCodeSingle},'') or area_code like CONCAT('%,',#{entity.areaCodeSingle},',%') or area_code =#{entity.areaCodeSingle})
        </if>
        order by create_time desc

    </select>

</mapper>
