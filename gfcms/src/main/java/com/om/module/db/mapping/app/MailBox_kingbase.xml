<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="busiMapper_kingBase">

	<select id="queryBusiAppMailBox" resultType="hashmap" parameterType="hashmap">
		select  SITE_PK,BOX_NAME,BOX_SECRET,a.STS,a.C_USER,b.REAL_NAME,b.LOGIN_NAME,
				a.C_TIME,a.U_USER,a.U_TIME,
				to_char(a.C_TIME,'yyyy-MM-dd hh24:mi:ss')  AS C_TIME_STR,
				to_char(a.U_TIME,'yyyy-MM-dd hh24:mi:ss')  AS U_TIME_STR
		from busi_app_mail_box a,sys_user_def b
		where a.C_USER = b.USER_ID
		<if test="SITE_PK != null">
			AND SITE_PK = #{SITE_PK}
		</if>
		<if test="BOX_NAME != null">
			AND BOX_NAME = #{BOX_NAME}
		</if>

		<if test="STS != null">
			AND a.STS = #{STS}
		</if>
		order by a.U_TIME desc
	</select>

</mapper>

